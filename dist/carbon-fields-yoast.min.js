(()=>{"use strict";const t=class{name="CarbonFieldsYoast";version="2.0.0-alpha.1";additionalContent="";refreshInterval=300;constructor(t={}){this.additionalContent="",this.init()}init(){YoastSEO.app.registerPlugin(this.name,{status:"ready"}),YoastSEO.app.registerModification("content",(t=>t+" "+this.additionalContent),this.name,5),this.invokeUpdate(),window.cf.vendor["@wordpress/data"].subscribe((()=>{this.invokeUpdate()}))}async invokeUpdate(){await setTimeout((async()=>{this.additionalContent="";const t=window.cf.vendor["@wordpress/data"].select("carbon-fields/metaboxes").getFields();for(let e in t){const a=t[e];this.additionalContent+=await this.getFieldContent(a)}YoastSEO.app.pluginReloaded(this.name)}),this.refreshInterval)}async getFieldContent(t){let e="";return"complex"===t.type||-1!==["image","media_gallery"].indexOf(t.type)&&t.value&&(await window.wp.ajax.post("query-attachments",{query:{post__in:"media_gallery"===t.type?t.value:[t.value]}})).forEach((t=>{e+=`<img src="${t.url}" alt="${t.alt}" title="${t.title}">`})),e}};window.hasOwnProperty("cf")&&("undefined"!=typeof YoastSEO&&void 0!==YoastSEO.app?new t:jQuery(window).on("YoastSEO:ready",(()=>{new t})))})();